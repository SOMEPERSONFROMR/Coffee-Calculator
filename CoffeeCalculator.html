<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>حاسبة القهوة</title>
  <!-- Google Fonts for the title -->
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@700&display=swap" rel="stylesheet">
  <style>
    body {
      background-color: #f3e9d2; /* Light coffee cream background */
      color: #3e2723;           /* Dark coffee text */
      font-family: Arial, sans-serif;
      text-align: center;
      margin: 0;
      padding: 20px;
      position: relative;
      overflow-x: hidden;
    }
    /* Bean container is placed behind everything */
    #bean-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      pointer-events: none;
    }
    .container {
      max-width: 400px;
      background-color: #fff;
      border: 2px solid #6f4e37; /* Coffee brown border */
      border-radius: 10px;
      padding: 20px;
      margin: 20px auto;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }
    /* Title font styling based on language */
    #title.arabic {
      font-family: 'Cairo', sans-serif;
      font-size: 2em;
    }
    #title.english {
      font-family: 'Pacifico', cursive;
      font-size: 2em;
    }
    label {
      display: block;
      margin: 10px auto;
      text-align: center;
    }
    select, input {
      display: block;
      margin: 10px auto;
      padding: 8px;
      width: 90%;
      box-sizing: border-box;
      border: 1px solid #6f4e37;
      border-radius: 5px;
      text-align: center;
    }
    select {
      text-align-last: center; /* Centers the selected option */
    }
    option {
      text-align: center;
    }
    #result {
      margin-top: 20px;
      font-weight: bold;
    }
    #langToggle {
      margin-bottom: 20px;
      padding: 8px 16px;
      background-color: #6f4e37;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    footer {
      margin-top: 30px;
      font-size: 14px;
      color: #6f4e37;
      text-align: center;
    }
  </style>
</head>
<body>
  <!-- Background bean container -->
  <div id="bean-container"></div>

  <div class="container">
    <button id="langToggle"></button>
    <h1 id="title">حاسبة القهوة</h1>

    <label id="ratioLabel" for="ratio">اختر النسبة (قهوة:ماء):</label>
    <select id="ratio">
      <option value="10">1:10 - مستوى الطعم: قوي جداً</option>
      <option value="11">1:11 - مستوى الطعم: قوي</option>
      <option value="12">1:12 - مستوى الطعم: متوسط</option>
      <option value="13">1:13 - مستوى الطعم: متوازن</option>
      <option value="14">1:14 - مستوى الطعم: سلس</option>
      <option value="15" selected>1:15 - مستوى الطعم: قياسي</option>
      <option value="16">1:16 - مستوى الطعم: خفيف</option>
      <option value="17">1:17 - مستوى الطعم: أخف</option>
      <option value="18">1:18 - مستوى الطعم: أخف جداً</option>
    </select>

    <label id="waterLabel" for="water">الماء (مل):</label>
    <input type="number" id="water" placeholder="ادخل كمية الماء بالمل">

    <label id="coffeeLabel" for="coffee">القهوة (غرام):</label>
    <input type="number" id="coffee" placeholder="ادخل كمية القهوة بالغرام">

    <p id="result"></p>
  </div>

  <footer id="footer"></footer>

  <script>
    /* Generate random coffee bean icons in the background */
    (function generateBeans() {
      const container = document.getElementById("bean-container");
      const beanCount = 10; // Number of beans to generate
      // Data URI for a simple coffee bean SVG icon
      const beanSVG = 'mybean.svg';
      const beanSVG1 = 'grinder.svg';
      const beanSVG2 = 'cup.svg';
      const beanSVG3 = 'coffeemaker.svg';
      const beanSVG4 = 'barista.svg';
      for (let i = 0; i < beanCount; i++) {
        const bean = document.createElement("img");
        bean.src = beanSVG;
        bean.style.position = "absolute";
        bean.style.width = (Math.random() * 30 + 20) + "px"; // Random width between 20 and 50px
        bean.style.top = (Math.random() * 100) + "%";
        bean.style.left = (Math.random() * 100) + "%";
        bean.style.opacity = 0.3; // Light opacity
        bean.style.pointerEvents = "none";
        container.appendChild(bean);
      }
      for (let i = 0; i < beanCount; i++) {
        const bean = document.createElement("img");
        bean.src = beanSVG1;
        bean.style.position = "absolute";
        bean.style.width = (Math.random() * 50 + 20) + "px"; // Random width between 20 and 50px
        bean.style.top = (Math.random() * 100) + "%";
        bean.style.left = (Math.random() * 100) + "%";
        bean.style.opacity = 0.3; // Light opacity
        bean.style.pointerEvents = "none";
        container.appendChild(bean);
      }
      for (let i = 0; i < beanCount; i++) {
        const bean = document.createElement("img");
        bean.src = beanSVG2;
        bean.style.position = "absolute";
        bean.style.width = (Math.random() * 40 + 20) + "px"; // Random width between 20 and 50px
        bean.style.top = (Math.random() * 100) + "%";
        bean.style.left = (Math.random() * 100) + "%";
        bean.style.opacity = 0.3; // Light opacity
        bean.style.pointerEvents = "none";
        container.appendChild(bean);
      }
      for (let i = 0; i < beanCount; i++) {
        const bean = document.createElement("img");
        bean.src = beanSVG3;
        bean.style.position = "absolute";
        bean.style.width = (Math.random() * 60 + 20) + "px"; // Random width between 20 and 50px
        bean.style.top = (Math.random() * 100) + "%";
        bean.style.left = (Math.random() * 100) + "%";
        bean.style.opacity = 0.3; // Light opacity
        bean.style.pointerEvents = "none";
        container.appendChild(bean);
      }
      for (let i = 0; i < beanCount; i++) {
        const bean = document.createElement("img");
        bean.src = beanSVG4;
        bean.style.position = "absolute";
        bean.style.width = (Math.random() * 100 + 20) + "px"; // Random width between 20 and 50px
        bean.style.top = (Math.random() * 100) + "%";
        bean.style.left = (Math.random() * 100) + "%";
        bean.style.opacity = 0.3; // Light opacity
        bean.style.pointerEvents = "none";
        container.appendChild(bean);
      }
    })();

    // Translation texts for Arabic and English
    const translations = {
      ar: {
        title: "حاسبة القهوة",
        ratioLabel: "اختر النسبة (قهوة:ماء):",
        waterLabel: "الماء (مل):",
        coffeeLabel: "القهوة (غرام):",
        options: {
          "10": "1:10 - مستوى الطعم: قوي جداً",
          "11": "1:11 - مستوى الطعم: قوي",
          "12": "1:12 - مستوى الطعم: متوسط",
          "13": "1:13 - مستوى الطعم: متوازن",
          "14": "1:14 - مستوى الطعم: سلس",
          "15": "1:15 - مستوى الطعم: قياسي",
          "16": "1:16 - مستوى الطعم: خفيف",
          "17": "1:17 - مستوى الطعم: أخف",
          "18": "1:18 - مستوى الطعم: أخف جداً"
        },
        resultWater: "لـ {water} مل من الماء بنسبة 1:{ratio}، استخدم {coffee} غرام من القهوة.",
        resultCoffee: "لـ {coffee} غرام من القهوة بنسبة 1:{ratio}، استخدم {water} مل من الماء.",
        waterPlaceholder: "ادخل كمية الماء بالمل",
        coffeePlaceholder: "ادخل كمية القهوة بالغرام",
        toggleLang: "English",
        footerLine1: "استمتع بقهوتك",
        footerLine2: "بواسطة تميم"
      },
      en: {
        title: "Coffee Calculator",
        ratioLabel: "Select Ratio (coffee:water):",
        waterLabel: "Water (ml):",
        coffeeLabel: "Coffee (g):",
        options: {
          "10": "1:10 - Very Robust",
          "11": "1:11 - Robust",
          "12": "1:12 - Strong",
          "13": "1:13 - Balanced",
          "14": "1:14 - Smooth",
          "15": "1:15 - Standard",
          "16": "1:16 - Mellow",
          "17": "1:17 - Light",
          "18": "1:18 - Very Light"
        },
        resultWater: "For {water} ml of water at a 1:{ratio} ratio, use {coffee} grams of coffee.",
        resultCoffee: "For {coffee} grams of coffee at a 1:{ratio} ratio, use {water} ml of water.",
        waterPlaceholder: "Enter water in ml",
        coffeePlaceholder: "Enter coffee in grams",
        toggleLang: "العربية",
        footerLine1: "Enjoy Your Coffee",
        footerLine2: "By Tamim"
      }
    };

    let currentLang = 'en';

    // Get DOM elements
    const title = document.getElementById('title');
    const ratioLabel = document.getElementById('ratioLabel');
    const waterLabel = document.getElementById('waterLabel');
    const coffeeLabel = document.getElementById('coffeeLabel');
    const ratioSelect = document.getElementById('ratio');
    const waterInput = document.getElementById('water');
    const coffeeInput = document.getElementById('coffee');
    const result = document.getElementById('result');
    const langToggle = document.getElementById('langToggle');
    const footer = document.getElementById('footer');

    // Update page text based on current language
    function updateLanguage() {
      const texts = translations[currentLang];
      title.textContent = texts.title;
      ratioLabel.textContent = texts.ratioLabel;
      waterLabel.textContent = texts.waterLabel;
      coffeeLabel.textContent = texts.coffeeLabel;
      waterInput.placeholder = texts.waterPlaceholder;
      coffeeInput.placeholder = texts.coffeePlaceholder;
      langToggle.textContent = texts.toggleLang;

      // Update the title's font based on language
      title.className = (currentLang === 'ar') ? 'arabic' : 'english';

      // Update the ratio options text
      for (let i = 0; i < ratioSelect.options.length; i++) {
        const option = ratioSelect.options[i];
        const value = option.value;
        option.textContent = texts.options[value];
      }

      // Update footer content based on the language
      footer.innerHTML = `<p>${texts.footerLine1}</p><p>${texts.footerLine2}</p>`;

      // Update document language and text direction
      if (currentLang === 'ar') {
        document.documentElement.lang = 'ar';
        document.documentElement.dir = 'rtl';
      } else {
        document.documentElement.lang = 'en';
        document.documentElement.dir = 'ltr';
      }

      // Clear previous inputs and results when language is changed
      waterInput.value = "";
      coffeeInput.value = "";
      result.textContent = "";
    }

    // Initialize language on page load
    updateLanguage();

    // Toggle language when the button is clicked
    langToggle.addEventListener('click', () => {
      currentLang = currentLang === 'ar' ? 'en' : 'ar';
      updateLanguage();
    });

    // Calculate coffee amount from water input
    function calculateFromWater() {
      const ratio = parseFloat(ratioSelect.value);
      const water = parseFloat(waterInput.value);
      if (!isNaN(water) && water > 0) {
        const coffee = water / ratio;
        coffeeInput.value = coffee.toFixed(2);
        const texts = translations[currentLang];
        result.textContent = texts.resultWater
          .replace('{water}', water.toFixed(2))
          .replace('{ratio}', ratio)
          .replace('{coffee}', coffee.toFixed(2));
      }
    }

    // Calculate water amount from coffee input
    function calculateFromCoffee() {
      const ratio = parseFloat(ratioSelect.value);
      const coffee = parseFloat(coffeeInput.value);
      if (!isNaN(coffee) && coffee > 0) {
        const water = coffee * ratio;
        waterInput.value = water.toFixed(2);
        const texts = translations[currentLang];
        result.textContent = texts.resultCoffee
          .replace('{coffee}', coffee.toFixed(2))
          .replace('{ratio}', ratio)
          .replace('{water}', water.toFixed(2));
      }
    }

    // Add event listeners for calculations
    waterInput.addEventListener('input', calculateFromWater);
    coffeeInput.addEventListener('input', calculateFromCoffee);

    // Clear inputs and result when the ratio changes
    ratioSelect.addEventListener('change', () => {
      waterInput.value = "";
      coffeeInput.value = "";
      result.textContent = "";
    });
  </script>
</body>
</html>
